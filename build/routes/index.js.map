{"version":3,"sources":["../../src/routes/index.js"],"names":["router","express","Router","app","use","json","urlencoded","extended","post","User","register","login","get","index","auth","admin","Bus","create","Trip","put","update","Booking","show"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,MAAM,GAAGC,oBAAQC,MAAR,EAAf;;eAEe,kBAACC,GAAD,EAAS;AACtBA,EAAAA,GAAG,CAACC,GAAJ,CAAQH,oBAAQI,IAAR,EAAR;AACAF,EAAAA,GAAG,CAACC,GAAJ,CAAQH,oBAAQK,UAAR,CAAmB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAnB,CAAR,EAFsB,CAItB;;AACAP,EAAAA,MAAM,CAACQ,IAAP,CAAY,cAAZ,EAA4BC,iBAAKC,QAAjC;AACAV,EAAAA,MAAM,CAACQ,IAAP,CAAY,cAAZ,EAA4BC,iBAAKE,KAAjC;AACAX,EAAAA,MAAM,CAACY,GAAP,CAAW,OAAX,EAAoBH,iBAAKI,KAAzB,EAPsB,CAStB;;AACAb,EAAAA,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsB,CAACM,gBAAD,EAAOC,iBAAP,CAAtB,EAAqCC,gBAAIC,MAAzC;AACAjB,EAAAA,MAAM,CAACY,GAAP,CAAW,QAAX,EAAqB,CAACE,gBAAD,EAAOC,iBAAP,CAArB,EAAoCC,gBAAIH,KAAxC,EAXsB,CAatB;;AACAb,EAAAA,MAAM,CAACQ,IAAP,CAAY,QAAZ,EAAsB,CAACM,gBAAD,EAAOC,iBAAP,CAAtB,EAAqCG,iBAAKD,MAA1C;AACAjB,EAAAA,MAAM,CAACY,GAAP,CAAW,QAAX,EAAqBE,gBAArB,EAA2BI,iBAAKL,KAAhC,EAfsB,CAgBtB;;AACAb,EAAAA,MAAM,CAACmB,GAAP,CAAW,YAAX,EAAyB,CAACL,gBAAD,EAAOC,iBAAP,CAAzB,EAAwCG,iBAAKE,MAA7C;AAEApB,EAAAA,MAAM,CAACQ,IAAP,CAAY,WAAZ,EAAyBM,gBAAzB,EAA+BO,oBAAQJ,MAAvC;AACAjB,EAAAA,MAAM,CAACY,GAAP,CAAW,WAAX,EAAwBE,gBAAxB,EAA8BO,oBAAQR,KAAtC;AACAb,EAAAA,MAAM,CAACY,GAAP,CAAW,eAAX,EAA4BE,gBAA5B,EAAkCO,oBAAQC,IAA1C;AACAtB,EAAAA,MAAM,CAACmB,GAAP,CAAW,eAAX,EAA4BL,gBAA5B,EAAkCO,oBAAQD,MAA1C;AACApB,EAAAA,MAAM,UAAN,CAAc,eAAd,EAA+Bc,gBAA/B,EAAqCO,6BAArC;AAEAlB,EAAAA,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBJ,MAAnB;AACD,C","sourcesContent":["import express from 'express';\nimport auth from '../middleware/auth';\nimport admin from '../middleware/admin';\nimport User from '../controllers/User';\nimport Bus from '../controllers/Bus';\nimport Trip from '../controllers/Trip';\nimport Booking from '../controllers/Booking';\n\nconst router = express.Router();\n\nexport default (app) => {\n  app.use(express.json());\n  app.use(express.urlencoded({ extended: false }));\n\n  // User Auth endpoints\n  router.post('/auth/signup', User.register);\n  router.post('/auth/signin', User.login);\n  router.get('/auth', User.index);\n\n  // Bus endpoints\n  router.post('/buses', [auth, admin], Bus.create);\n  router.get('/buses', [auth, admin], Bus.index);\n\n  // Trip endpoints\n  router.post('/trips', [auth, admin], Trip.create);\n  router.get('/trips', auth, Trip.index);\n  // router.get('/trips/:id', auth, Trip.show);\n  router.put('/trips/:id', [auth, admin], Trip.update);\n\n  router.post('/bookings', auth, Booking.create);\n  router.get('/bookings', auth, Booking.index);\n  router.get('/bookings/:id', auth, Booking.show);\n  router.put('/bookings/:id', auth, Booking.update);\n  router.delete('/bookings/:id', auth, Booking.delete);\n\n  app.use('/api/v1', router);\n};\n"],"file":"index.js"}